/*
** EPITECH PROJECT, 2024
** Plazza
** File description:
** Reception
*/

#include "Reception.hpp"
#include "IPizzaFactory.hpp"
#include "macros.hpp"
#include "Fork.hpp"

#include <iostream>

plz::Reception::Reception(plz::Setup& setup, plz::IPizzaFactory& factory) : _pizzaiolos(setup.pizzaiolos()), _restock(setup.restock()), _factory(factory)
{
}

bool plz::Reception::_queuePizza(std::map<std::shared_ptr<plz::Kitchen>, plz::KitchenDatas>& kitchensStatus, std::shared_ptr<plz::IPizza> pizza)
{
    std::vector<std::shared_ptr<plz::Kitchen>> kitchenByIdleTime;
    for (auto& kitchen : _kitchens) {
        if (kitchensStatus[kitchen].idleTime < kitchen->idleTime()) {
            kitchenByIdleTime.push_back(kitchen);
        }
    }
    std::sort(kitchenByIdleTime.begin(), kitchenByIdleTime.end(), [&](std::shared_ptr<plz::Kitchen> a, std::shared_ptr<plz::Kitchen> b) {
        return kitchensStatus[a].idleTime < kitchensStatus[b].idleTime;
    });

    for (auto& kitchen : kitchenByIdleTime) {
        if (kitchensStatus[kitchen].pizzaiolos == kitchen->pizzaiolos() && kitchensStatus[kitchen].restock == kitchen->restock() && kitchensStatus[kitchen].ingredients >= pizza->getIngredients()) {
            kitchen->queuePizza(pizza);

            kitchensStatus[kitchen].pizzaiolos--;
            kitchensStatus[kitchen].restock--;
            kitchensStatus[kitchen].ingredients -= pizza->getIngredients();
            return true;
        }
    }
    for (auto& kitchen : _kitchens) {
        if (kitchensStatus[kitchen].pizzaiolos > 0 && kitchensStatus[kitchen].ingredients >= pizza->getIngredients()) {
            kitchen->queuePizza(pizza);

            kitchensStatus[kitchen].pizzaiolos--;
            kitchensStatus[kitchen].ingredients -= pizza->getIngredients();
            return true;
        }
    }
    for (auto& kitchen : _kitchens) {
        if (kitchensStatus[kitchen].restock > 0 && kitchensStatus[kitchen].ingredients >= pizza->getIngredients()) {
            kitchen->queuePizza(pizza);

            kitchensStatus[kitchen].restock--;
            kitchensStatus[kitchen].ingredients -= pizza->getIngredients();
            return true;
        }
    }
    return false;
}

void plz::Reception::_spreadPizzas(std::map<std::shared_ptr<plz::Kitchen>, plz::KitchenDatas> kitchensStatus)
{
    for (auto& pizza : _pizzas) {
        if (!_queuePizza(kitchensStatus, pizza))
            _addKitchen()->queuePizza(pizza);
    }
    _pizzas.clear();
}

void plz::Reception::handleCommand(UNUSED std::string command)
{
    _factory.tryCreateIPizzas(command, _pizzas);
    std::map<std::shared_ptr<plz::Kitchen>, plz::KitchenDatas> kitchensStatus;
    for (auto& kitchen : _kitchens) {
        kitchensStatus[kitchen] = {
            kitchen->nbOfAvailablePizzaiolos(),
            kitchen->nbOfAvailableStorage(),
            kitchen->getIngredients(),
            kitchen->idleTime()
        };
    }

    _spreadPizzas(kitchensStatus);
}

void plz::Reception::displayKitchenStatus()
{
    uint32_t nbOfAvailablePizzaiolos = 0;
    uint32_t nbOfAvailableStorage = 0;
    plz::Ingredients ingredients;

    std::printf("[0m                                                                          [0m\n");
    std::printf("                    [38;2;188;178;164m‚ñÇ[38;2;237;214;190m‚ñÇ[38;2;239;215;192m‚ñÉ[38;2;244;216;191m‚ñÉ[38;2;218;196;174m‚ñÑ[38;2;224;199;178m‚ñÑ[38;2;246;221;197m‚ñÉ[38;2;249;225;203m‚ñÉ[38;2;231;213;195m‚ñÉ[38;2;240;227;211m‚ñÇ[38;2;239;225;209m‚ñÅ[0m                                [0m\n");
    std::printf("               [38;2;223;195;171m‚ñÇ[38;2;222;187;158m‚ñÑ[38;2;204;143;107m‚ñÖ[38;2;148;88;66;48;2;197;156;128m‚ñÉ[38;2;217;133;82;48;2;243;191;152m‚ñÑ[38;2;220;133;76;48;2;245;199;160m‚ñÑ[38;2;228;141;68;48;2;245;196;159m‚ñÑ[38;2;211;110;51;48;2;245;195;153m‚ñÖ[38;2;225;125;47;48;2;243;195;153m‚ñÑ[38;2;208;126;62;48;2;237;184;139m‚ñÖ[38;2;196;119;63;48;2;224;153;98m‚î≥[38;2;211;129;65;48;2;238;183;132m‚ñÑ[38;2;216;118;50;48;2;240;182;133m‚ñÑ[38;2;226;140;66;48;2;243;197;154m‚ñÑ[38;2;233;147;62;48;2;246;211;171m‚ñÑ[38;2;234;157;88;48;2;248;217;181m‚ñÑ[38;2;240;186;137;48;2;243;222;201m‚ñÉ[0m[38;2;223;196;174m‚ñá[38;2;238;221;204m‚ñÖ[38;2;227;205;184m‚ñÑ[38;2;211;192;174m‚ñÇ[0m                           [0m\n");
    std::printf("            [38;2;190;155;129m‚ñÉ[38;2;234;193;160m‚ñÖ[38;2;243;200;166;48;2;223;174;135m‚ñù[38;2;224;155;101;48;2;244;206;172m‚ñÖ[38;2;199;111;57;48;2;229;159;111m‚ñÉ[38;2;223;122;58;48;2;204;127;78m‚ñÉ[38;2;167;75;31;48;2;180;99;58m‚ñÖ[38;2;176;77;40;48;2;216;115;50m‚ñÑ[38;2;159;68;38;48;2;193;113;72m‚ï±[38;2;208;147;114;48;2;152;77;40m‚ñÉ[38;2;204;145;87;48;2;173;86;41m‚ñÇ[38;2;170;162;21;48;2;154;76;25m‚ñÇ[38;2;170;171;17;48;2;141;58;19m‚ñÉ[38;2;216;135;69;48;2;168;66;26m‚ñÑ[38;2;200;97;70;48;2;123;41;17m‚ñÖ[38;2;206;167;137;48;2;130;57;35m‚ñÅ[38;2;199;152;104;48;2;132;70;40m‚ñó[38;2;151;74;37;48;2;184;109;58m‚ïç[38;2;149;65;33;48;2;229;142;63m‚ñÉ[38;2;190;106;53;48;2;231;155;82m‚ñÑ[38;2;185;97;43;48;2;230;165;98m‚ñÉ[38;2;224;146;78;48;2;240;189;147m‚ñÖ[38;2;223;149;87;48;2;240;213;193m‚ñÜ[38;2;221;163;117;48;2;235;207;185m‚ññ[38;2;194;171;153;48;2;235;205;184m‚ñù[0m[38;2;221;193;173m‚ñÖ[38;2;180;164;153m‚ñÉ[0m                        [0m\n");
    std::printf("          [38;2;209;184;162m‚ñÑ[38;2;187;146;107;48;2;240;201;172m‚ñö[38;2;210;133;86;48;2;242;192;150m‚ñÖ[38;2;201;110;63;48;2;239;182;133m‚ñÑ[38;2;227;155;93;48;2;206;129;71m‚ñå[38;2;149;70;43;48;2;211;130;63m‚ñÖ[38;2;147;67;47;48;2;198;114;53m‚ñÖ[38;2;156;68;44;48;2;169;86;38m‚ñÖ[38;2;231;173;144;48;2;169;85;47m‚ñÅ[38;2;209;130;76;48;2;229;180;142m‚ñò[38;2;219;144;110;48;2;236;197;169m‚ñó[38;2;148;170;37;48;2;198;137;92m‚ñó[38;2;156;162;23;48;2;185;160;69m‚ñá[38;2;150;101;50;48;2;177;184;27m‚ñÑ[38;2;213;173;136;48;2;163;133;34m‚ñÑ[38;2;222;183;130;48;2;193;131;56m‚ñá[38;2;230;212;172;48;2;196;131;92m‚ñá[38;2;207;180;127;48;2;224;207;168m‚ï∫[38;2;110;82;57;48;2;214;194;153m‚ñò[38;2;228;212;174;48;2;191;134;89m‚ñã[38;2;220;148;100;48;2;160;84;53m‚î≥[38;2;191;127;76;48;2;144;91;54m‚ñÜ[38;2;214;136;81;48;2;159;76;43m‚ññ[38;2;173;81;41;48;2;123;53;28m‚ñÜ[38;2;107;43;18;48;2;176;97;59m‚îÅ[38;2;154;66;29;48;2;210;143;88m‚ñÖ[38;2;177;102;57;48;2;219;172;140m‚ñÖ[38;2;203;134;89;48;2;232;184;148m‚ñÑ[38;2;228;178;131;48;2;233;190;156m‚ñÉ[38;2;232;186;153;48;2;176;157;145m‚ñÖ[0m[38;2;205;176;155m‚ñÑ[0m                      [0m\n");
    std::printf("        [38;2;173;137;112m‚ñÑ[38;2;233;186;149;48;2;170;144;130m‚ñÜ[38;2;234;176;130;48;2;237;193;163m‚ñÑ[38;2;221;155;96;48;2;233;182;146m‚ñÜ[38;2;178;101;61;48;2;208;132;85m‚î≤[38;2;214;150;111;48;2;184;108;67m‚ñÉ[38;2;230;180;140;48;2;207;123;74m‚ñÑ[38;2;235;194;166;48;2;165;81;54m‚ñÜ[38;2;245;227;201;48;2;231;168;126m‚ñÑ[38;2;241;232;206;48;2;229;192;152m‚ñó[38;2;238;233;206;48;2;239;226;191m‚ï∏[38;2;238;219;178;48;2;226;176;138m‚ñç[38;2;225;184;155;48;2;225;215;182m‚ñé[38;2;145;172;34;48;2;164;176;24m‚ñå[38;2;225;181;124;48;2;163;118;48m‚ñÉ[38;2;240;226;214;48;2;217;161;107m‚ñÇ[38;2;221;161;92;48;2;235;204;162m‚ñÅ[38;2;242;241;214;48;2;241;225;180m‚ñó[38;2;243;228;192;48;2;234;192;143m‚ñÑ[38;2;242;236;220;48;2;235;205;165m‚ñÑ[38;2;206;155;123;48;2;228;210;184m‚ï∫[38;2;124;74;50;48;2;194;161;126m‚îÅ[38;2;218;160;96;48;2;122;95;72m‚ï∫[38;2;214;148;102;48;2;101;82;74m‚ï∏[38;2;136;109;89;48;2;224;182;144m‚ñç[38;2;222;162;119;48;2;207;122;92m‚ñã[38;2;219;164;152;48;2;196;103;91m‚îÄ[38;2;227;160;148;48;2;199;123;92m‚ñÑ[38;2;228;169;135;48;2;164;74;44m‚ñÖ[38;2;231;180;147;48;2;152;71;39m‚ñÉ[38;2;155;78;44;48;2;198;131;83m‚ñÖ[38;2;193;107;50;48;2;225;162;112m‚ñÉ[38;2;233;174;121;48;2;242;194;152m‚ñå[38;2;236;183;137;48;2;190;163;142m‚ñÖ[0m[38;2;184;150;125m‚ñÑ[0m                    [0m\n");
    std::printf("       [7m[38;2;216;173;143m‚ñò[0m[38;2;225;167;123;48;2;233;180;139m‚ñö[38;2;228;147;77;48;2;233;168;118m‚ñó[38;2;216;122;53;48;2;239;174;106m‚ñÉ[38;2;177;95;56;48;2;229;160;100m‚ñÖ[38;2;239;186;157;48;2;221;147;122m‚îÅ[38;2;199;60;47;48;2;233;183;156m‚ñÜ[38;2;166;30;11;48;2;200;66;45m‚îè[38;2;235;199;153;48;2;210;76;62m‚ñÇ[38;2;235;216;179;48;2;210;79;56m‚ñÇ[38;2;216;66;32;48;2;235;195;159m‚ñò[38;2;232;218;191;48;2;158;142;120m‚ñä[38;2;63;53;57;48;2;209;197;169m‚ñÇ[38;2;136;113;78;48;2;213;200;145m‚ñÑ[38;2;127;96;39;48;2;151;167;42m‚ñÉ[38;2;87;75;52;48;2;188;176;139m‚ñÜ[38;2;215;188;126;48;2;101;91;79m‚ñÑ[38;2;230;210;163;48;2;186;143;102m‚ñÉ[38;2;236;225;184;48;2;230;186;144m‚ñÉ[38;2;208;134;90;48;2;230;193;153m‚ñó[38;2;175;130;55;48;2;228;205;165m‚ñÖ[38;2;187;201;71;48;2;226;223;159m‚ñÜ[38;2;192;167;36;48;2;220;197;118m‚ññ[38;2;237;187;138;48;2;191;148;106m‚ñÉ[38;2;176;143;110;48;2;225;202;158m‚ñò[38;2;227;212;176;48;2;236;235;205m‚ñö[38;2;172;154;129;48;2;231;214;182m‚ñÅ[38;2;230;220;177;48;2;190;78;56m‚ñÑ[38;2;211;188;146;48;2;187;78;61m‚ñÇ[38;2;143;69;54;48;2;205;80;75m‚ñÉ[38;2;188;53;47;48;2;220;142;110m‚ñÑ[38;2;234;166;119;48;2;210;113;75m‚î≥[38;2;219;137;79;48;2;184;84;31m‚ñÑ[38;2;149;57;23;48;2;214;136;69m‚ñÉ[38;2;203;119;69;48;2;235;172;119m‚ññ[38;2;232;168;114;48;2;234;176;129m‚ñö[0m[7m[38;2;220;175;142m‚ñù[0m                   [0m\n");
    std::printf("      [38;2;168;130;104;48;2;233;184;154m‚ñö[38;2;229;160;107;48;2;239;191;154m‚ñÑ[38;2;202;129;77;48;2;229;163;109m‚ñó[38;2;214;123;69;48;2;186;92;47m‚ñö[38;2;237;161;103;48;2;180;92;52m‚ñÉ[38;2;228;131;100;48;2;228;151;92m‚ñó[38;2;219;98;81;48;2;200;52;39m‚ñö[38;2;195;44;48;48;2;210;66;62m‚ï±[38;2;226;93;68;48;2;199;73;56m‚ñÖ[38;2;211;122;93;48;2;235;215;183m‚ñÖ[38;2;170;99;89;48;2;240;227;199m‚ñÇ[38;2;205;61;36;48;2;241;209;151m‚ñÑ[38;2;219;169;121;48;2;94;70;62m‚ñç[38;2;220;188;158;48;2;165;145;122m‚îÅ[38;2;158;143;126;48;2;74;57;45m‚ñç[38;2;223;194;144;48;2;183;130;80m‚ñÖ[38;2;233;194;141;48;2;116;86;62m‚ñÖ[38;2;208;98;60;48;2;223;181;135m‚ñÇ[38;2;207;156;124;48;2;123;99;78m‚ñä[38;2;128;101;77;48;2;211;191;151m‚ñç[38;2;229;206;159;48;2;174;102;58m‚ñã[38;2;169;151;44;48;2;185;204;66m‚ñç[38;2;167;92;21;48;2;186;155;47m‚îè[38;2;242;193;146;48;2;226;138;73m‚ñù[38;2;245;192;159;48;2;224;122;85m‚îó[38;2;198;121;82;48;2;226;172;135m‚ï≤[38;2;236;224;197;48;2;191;165;142m‚ñò[38;2;142;119;98;48;2;217;202;165m‚ñé[38;2;222;200;141;48;2;229;219;176m‚ñó[38;2;143;129;98;48;2;76;60;49m‚ñé[38;2;115;91;59;48;2;58;40;31m‚ñÉ[38;2;211;185;158;48;2;116;64;48m‚ñó[38;2;189;36;25;48;2;204;90;71m‚ñö[38;2;221;152;108;48;2;203;114;61m‚ñá[38;2;207;122;84;48;2;137;48;29m‚ñç[38;2;184;97;48;48;2;202;128;71m‚ñã[38;2;216;142;82;48;2;224;157;106m‚ññ[38;2;226;154;98;48;2;232;170;126m‚ñÅ[38;2;226;181;147;48;2;165;124;98m‚ñö[0m                  [0m\n");
    std::printf("     [7m[38;2;212;153;115m‚ñò[0m[38;2;235;165;112;48;2;204;123;73m‚ñÖ[38;2;138;95;68;48;2;194;127;75m‚ñÇ[38;2;97;60;41;48;2;199;139;88m‚ñÑ[38;2;90;64;52;48;2;227;165;99m‚ñÖ[38;2;128;99;60;48;2;226;175;118m‚ñÖ[38;2;194;55;43;48;2;229;148;125m‚ñÜ[38;2;167;47;33;48;2;219;44;22m‚ñÑ[38;2;142;14;16;48;2;220;27;23m‚ñÖ[38;2;142;17;13;48;2;219;30;30m‚ñÑ[38;2;154;30;17;48;2;207;43;40m‚ñÉ[38;2;219;163;131;48;2;160;98;79m‚î≤[38;2;236;200;160;48;2;193;91;72m‚ïæ[38;2;213;93;78;48;2;195;52;32m‚ñÇ[38;2;233;134;87;48;2;188;73;58m‚ñÅ[38;2;219;52;22;48;2;209;138;104m‚ñÑ[38;2;218;97;72;48;2;244;206;164m‚ñÖ[38;2;224;137;103;48;2;199;80;50m‚ñò[38;2;210;115;85;48;2;231;172;138m‚ñÖ[38;2;226;189;174;48;2;192;133;122m‚ñó[38;2;202;126;104;48;2;225;195;164m‚ñÜ[38;2;192;94;66;48;2;205;145;97m‚ñá[38;2;116;50;10;48;2;166;127;29m‚îÅ[38;2;190;176;67;48;2;156;79;10m‚ñÉ[38;2;207;81;30;48;2;214;110;48m‚ïã[38;2;209;89;42;48;2;230;157;117m‚ñò[38;2;237;204;179;48;2;228;172;145m‚ñÜ[38;2;223;163;142;48;2;196;116;91m‚ñå[38;2;225;180;136;48;2;184;132;106m‚ñù[38;2;219;189;168;48;2;216;151;88m‚ñÉ[38;2;199;153;109;48;2;122;80;45m‚ñÜ[38;2;204;159;101;48;2;103;82;64m‚îÅ[38;2;139;80;63;48;2;210;176;134m‚ñÉ[38;2;204;96;69;48;2;184;39;26m‚ñö[38;2;203;114;64;48;2;215;130;95m‚î∫[38;2;220;140;92;48;2;186;97;59m‚ï≤[38;2;156;50;19;48;2;177;74;38m‚ïæ[38;2;171;95;45;48;2;207;135;77m‚ïº[38;2;221;171;121;48;2;197;125;71m‚ñÖ[38;2;226;166;125;48;2;233;179;135m‚ï∫[38;2;226;186;157;48;2;156;119;95m‚ñö[0m                 [0m\n");
    std::printf("    [7m[38;2;186;136;103m‚ñç[0m[38;2;244;186;136;48;2;229;160;113m‚ñó[38;2;245;195;145;48;2;227;166;113m‚ñÜ[38;2;100;64;43;48;2;215;154;106m‚ñù[38;2;224;160;89;48;2;80;58;47m‚ñÉ[38;2;161;157;60;48;2;63;54;24m‚ñÖ[38;2;120;116;27;48;2;202;183;123m‚ñò[38;2;212;153;98;48;2;198;60;43m‚ñÉ[38;2;247;218;189;48;2;231;143;98m‚îç[38;2;235;177;156;48;2;203;56;49m‚ññ[38;2;225;86;65;48;2;196;57;37m‚ñÜ[38;2;211;66;31;48;2;227;96;65m‚ñö[38;2;221;71;21;48;2;219;100;88m‚ñÖ[38;2;225;83;32;48;2;231;113;86m‚ññ[38;2;233;126;100;48;2;225;107;81m‚ñÖ[38;2;222;116;87;48;2;236;178;134m‚ññ[38;2;239;219;194;48;2;228;134;79m‚ñÜ[38;2;215;195;173;48;2;190;129;95m‚ññ[38;2;59;48;53;48;2;190;116;90m‚ñÇ[38;2;212;134;114;48;2;209;90;70m‚ñé[38;2;225;106;50;48;2;225;172;141m‚ñÖ[38;2;225;105;28;48;2;227;139;74m‚ñÖ[38;2;231;136;90;48;2;208;87;55m‚ñÇ[38;2;205;140;92;48;2;152;92;43m‚î∫[38;2;206;190;141;48;2;162;168;40m‚ñÑ[38;2;150;165;39;48;2;207;201;102m‚ñÉ[38;2;197;177;76;48;2;236;209;173m‚ñÉ[38;2;223;163;137;48;2;195;83;53m‚ñö[38;2;192;124;95;48;2;81;52;41m‚ñã[38;2;41;24;16;48;2;75;55;48m‚ï∫[38;2;95;69;54;48;2;193;149;117m‚ñã[38;2;214;188;147;48;2;150;113;85m‚ñÖ[38;2;71;62;61;48;2;167;142;111m‚ñÇ[38;2;154;139;119;48;2;81;57;42m‚ñÜ[38;2;236;207;149;48;2;177;116;76m‚ñÜ[38;2;243;202;126;48;2;198;117;72m‚ñÉ[38;2;240;194;152;48;2;215;144;99m‚ï∂[38;2;151;67;36;48;2;221;146;105m‚ï∫[38;2;194;87;45;48;2;221;141;78m‚ñã[38;2;216;153;97;48;2;222;168;111m‚îô[38;2;223;174;126;48;2;230;180;137m‚ñç[38;2;224;172;132;48;2;215;156;120m‚ñå[0m[38;2;181;137;111m‚ñã                [0m\n");
    std::printf("    [38;2;171;141;121;48;2;232;172;130m‚ñè[38;2;240;175;126;48;2;243;191;140m‚ñå[38;2;243;194;141;48;2;226;150;96m‚ñä[38;2;184;92;61;48;2;218;130;82m‚ñÜ[38;2;196;111;59;48;2;228;183;115m‚ñò[38;2;201;193;107;48;2;156;164;43m‚ñç[38;2;210;190;125;48;2;144;153;54m‚ñÑ[38;2;129;100;35;48;2;175;177;74m‚ñÖ[38;2;140;168;38;48;2;220;200;121m‚ññ[38;2;173;146;101;48;2;234;212;170m‚ñó[38;2;180;140;101;48;2;210;81;71m‚ñÜ[38;2;231;191;146;48;2;218;94;66m‚ññ[38;2;211;49;38;48;2;226;99;72m‚ñÇ[38;2;229;118;89;48;2;228;90;45m‚ï∏[38;2;212;77;31;48;2;238;121;83m‚ñÇ[38;2;237;124;89;48;2;220;98;61m‚ïç[38;2;221;163;119;48;2;211;92;50m‚ñù[38;2;176;103;65;48;2;102;72;60m‚ñé[38;2;143;123;110;48;2;83;59;54m‚ñò[38;2;99;40;36;48;2;193;87;54m‚ñç[38;2;228;163;120;48;2;222;115;43m‚ñó[38;2;238;199;157;48;2;218;100;36m‚ñÖ[38;2;233;212;165;48;2;196;120;73m‚ñÜ[38;2;83;63;47;48;2;220;202;163m‚ñù[38;2;186;149;107;48;2;229;217;177m‚ñò[38;2;225;201;156;48;2;164;96;56m‚ñé[38;2;110;89;40;48;2;153;168;40m‚ñÖ[38;2;118;121;47;48;2;201;193;106m‚ñÖ[38;2;146;92;84;48;2;196;165;127m‚ñÖ[38;2;192;81;71;48;2;185;111;93m‚ññ[38;2;186;119;58;48;2;233;198;181m‚ñÜ[38;2;162;157;42;48;2;225;169;149m‚ñÜ[38;2;156;163;45;48;2;159;121;88m‚ñÜ[38;2;235;227;180;48;2;172;188;67m‚ñÇ[38;2;203;208;101;48;2;180;169;67m‚ñä[38;2;167;133;35;48;2;237;223;153m‚ñÜ[38;2;213;127;79;48;2;240;195;127m‚ñÅ[38;2;228;163;102;48;2;203;116;65m‚ñå[38;2;194;103;80;48;2;180;82;47m‚ñÇ[38;2;211;108;57;48;2;230;158;88m‚ñé[38;2;230;181;132;48;2;221;153;93m‚ñù[38;2;221;161;118;48;2;226;173;132m‚ñÉ[38;2;223;167;129;48;2;164;133;110m‚ñâ[0m                [0m\n");
    std::printf("   [7m[38;2;216;172;138m‚ñä[0m[38;2;236;173;131;48;2;232;164;116m‚ñò[38;2;241;179;131;48;2;245;201;154m‚ñç[38;2;239;186;135;48;2;199;98;57m‚ñä[38;2;211;126;93;48;2;158;54;30m‚ñÑ[38;2;217;137;89;48;2;231;178;130m‚ñÅ[38;2;230;172;130;48;2;202;162;81m‚ñÉ[38;2;155;145;30;48;2;181;160;58m‚îí[38;2;214;172;141;48;2;192;69;57m‚ññ[38;2;221;82;83;48;2;159;90;38m‚ï¥[38;2;144;108;37;48;2;179;201;66m‚ñÑ[38;2;109;127;8;48;2;175;183;79m‚ñÇ[38;2;165;194;58;48;2;226;207;139m‚ñÑ[38;2;228;183;122;48;2;179;167;70m‚ñò[38;2;71;55;39;48;2;209;95;70m‚ñÑ[38;2;63;50;35;48;2;163;99;40m‚ñÑ[38;2;147;158;50;48;2;144;65;13m‚ñÜ[38;2;236;193;164;48;2;179;164;71m‚ñù[38;2;198;142;92;48;2;229;185;157m‚ñÖ[38;2;206;124;90;48;2;225;171;132m‚ñù[38;2;182;82;51;48;2;223;164;132m‚ñã[38;2;212;161;121;48;2;237;204;159m‚ñÖ[38;2;214;138;114;48;2;241;210;161m‚ñÉ[38;2;243;189;128;48;2;212;117;83m‚ñò[38;2;202;89;68;48;2;215;159;117m‚ñÑ[38;2;206;62;52;48;2;213;163;131m‚ñÇ[38;2;192;44;40;48;2;221;164;129m‚ñÇ[38;2;208;164;143;48;2;92;79;73m‚ñÖ[38;2;205;91;56;48;2;80;61;55m‚ñÉ[38;2;167;82;25;48;2;216;90;39m‚ñö[38;2;203;90;33;48;2;165;145;21m‚ñò[38;2;146;56;14;48;2;163;157;26m‚ñó[38;2;221;120;57;48;2;124;64;9m‚ñÑ[38;2;161;84;45;48;2;228;213;170m‚ñå[38;2;154;120;86;48;2;228;220;187m‚ñó[38;2;99;66;40;48;2;185;144;89m‚îÅ[38;2;227;169;89;48;2;173;79;43m‚ñÖ[38;2;214;101;64;48;2;206;100;56m‚îπ[38;2;232;162;122;48;2;209;115;74m‚ï≤[38;2;240;191;140;48;2;188;93;55m‚ñÑ[38;2;241;188;130;48;2;200;102;62m‚ñÉ[38;2;189;99;55;48;2;225;155;89m‚ñÑ[38;2;219;149;91;48;2;224;161;111m‚ññ[38;2;222;159;119;48;2;213;143;101m‚ñä[0m[38;2;165;120;90m‚ñç               [0m\n");
    std::printf("   [7m[38;2;205;163;129m‚ñã[0m[38;2;240;175;128;48;2;234;165;117m‚ñÑ[38;2;245;181;119;48;2;242;185;130m‚ï∫[38;2;234;163;90;48;2;193;103;59m‚ñä[38;2;197;103;84;48;2;168;72;43m‚ñó[38;2;233;176;146;48;2;203;109;75m‚ñù[38;2;213;81;38;48;2;236;167;125m‚ññ[38;2;237;123;71;48;2;240;197;167m‚îÅ[38;2;236;170;114;48;2;242;206;167m‚ïæ[38;2;238;193;142;48;2;173;68;64m‚ñá[38;2;234;194;169;48;2;203;99;83m‚î≥[38;2;221;153;135;48;2;164;54;48m‚ñÑ[38;2;211;114;81;48;2;157;74;45m‚ñÉ[38;2;218;182;151;48;2;117;104;47m‚ñÜ[38;2;196;167;141;48;2;76;57;49m‚ñÉ[38;2;172;148;112;48;2;68;48;41m‚ñÉ[38;2;138;120;79;48;2;221;201;149m‚ñò[38;2;226;212;162;48;2;138;132;32m‚ñÉ[38;2;142;94;34;48;2;193;132;76m‚ñÜ[38;2;96;25;10;48;2;217;76;56m‚ñÇ[38;2;167;57;55;48;2;219;72;39m‚ñÉ[38;2;124;36;34;48;2;208;70;51m‚ñó[0m[7m[38;2;191;70;65m‚ñÉ[38;2;190;85;70m‚ñÑ[0m[38;2;114;31;32;48;2;172;39;38m‚ñÅ[38;2;155;84;55;48;2;165;21;25m‚ñÅ[38;2;221;156;106;48;2;146;33;22m‚ñÉ[38;2;212;132;78;48;2;181;73;44m‚ñÑ[38;2;193;115;71;48;2;198;74;41m‚ñÉ[38;2;181;90;43;48;2;152;145;26m‚ñã[38;2;172;188;49;48;2;160;128;37m‚ñä[38;2;135;49;17;48;2;176;100;74m‚ñò[38;2;100;95;82;48;2;234;172;122m‚ñÅ[38;2;237;193;147;48;2;206;129;95m‚ñÑ[38;2;238;190;134;48;2;195;134;95m‚ññ[38;2;155;46;22;48;2;173;99;59m‚î≥[38;2;173;48;15;48;2;198;97;51m‚îÅ[38;2;202;69;37;48;2;222;117;74m‚î≥[38;2;227;117;69;48;2;221;102;54m‚ï±[38;2;233;165;106;48;2;223;139;82m‚ñö[38;2;219;144;79;48;2;235;166;109m‚ñÜ[38;2;230;147;100;48;2;211;132;80m‚ïπ[38;2;230;162;87;48;2;237;172;107m‚îì[38;2;236;171;123;48;2;223;157;110m‚ñå[0m[38;2;205;148;109m‚ñç               [0m\n");
    std::printf("   [7m[38;2;212;170;138m‚ñä[0m[38;2;243;195;157;48;2;238;183;140m‚î≤[38;2;245;187;134;48;2;244;197;148m‚ñò[38;2;239;189;135;48;2;202;117;74m‚ñå[38;2;227;151;106;48;2;239;182;150m‚ñå[38;2;233;157;133;48;2;217;90;62m‚ññ[38;2;227;129;106;48;2;229;103;52m‚ñò[38;2;228;112;25;48;2;247;208;192m‚ñá[38;2;222;125;55;48;2;233;194;180m‚ñÖ[38;2;234;175;160;48;2;187;75;55m‚ñò[38;2;183;49;24;48;2;221;93;38m‚ñã[38;2;237;138;65;48;2;217;73;32m‚ñÑ[38;2;154;104;25;48;2;208;108;63m‚ï∫[38;2;154;138;41;48;2;206;104;44m‚ñÜ[38;2;191;125;40;48;2;220;159;113m‚ñã[38;2;243;215;186;48;2;221;174;129m‚ñÇ[38;2;242;228;195;48;2;232;200;144m‚ñÖ[38;2;208;71;30;48;2;208;162;125m‚ñÉ[38;2;158;84;43;48;2;182;156;127m‚ñÑ[38;2;195;161;113;48;2;118;96;70m‚ñÜ[38;2;206;165;111;48;2;169;121;76m‚ñÑ[38;2;84;74;65;48;2;217;171;120m‚ñÅ[0m[38;2;203;149;122m‚ññ[0m  [7m[38;2;129;91;62m‚ñÜ[38;2;189;149;99m‚ñÑ[38;2;208;169;125m‚ñÉ[38;2;222;191;157m‚ñÇ[0m[38;2;236;215;189;48;2;166;110;76m‚îÅ[38;2;172;131;106;48;2;97;65;35m‚ñÜ[38;2;69;59;53;48;2;147;127;98m‚ñç[38;2;211;167;122;48;2;140;129;113m‚ñá[38;2;177;108;62;48;2;212;175;142m‚ñÇ[38;2;182;152;135;48;2;114;90;75m‚îÅ[38;2;177;136;115;48;2;119;104;83m‚îÅ[38;2;210;172;135;48;2;128;114;62m‚ñù[38;2;150;130;32;48;2;209;158;102m‚ñÑ[38;2;153;148;49;48;2;236;190;135m‚ñÖ[38;2;165;167;58;48;2;226;191;148m‚ñÑ[38;2;149;168;46;48;2;206;180;118m‚îÅ[38;2;229;195;138;48;2;192;132;85m‚ñÖ[38;2;244;192;129;48;2;225;170;116m‚ñé[38;2;222;164;126;48;2;233;175;136m‚ñÜ[0m[38;2;162;128;105m‚ñç               [0m\n");
    std::printf("    [38;2;236;190;154;48;2;217;170;135m‚ïã[38;2;242;181;120;48;2;243;188;143m‚ñó[38;2;244;203;148;48;2;233;158;102m‚ñò[38;2;209;114;62;48;2;232;166;116m‚ñÉ[38;2;245;216;183;48;2;230;155;110m‚ñò[38;2;194;49;31;48;2;216;79;44m‚îì[38;2;225;125;91;48;2;224;93;36m‚îè[38;2;201;102;57;48;2;82;44;36m‚ñå[38;2;115;61;47;48;2;65;41;38m‚ñù[38;2;70;42;37;48;2;126;67;43m‚ñâ[38;2;214;153;73;48;2;210;112;47m‚ñö[38;2;204;93;35;48;2;219;142;63m‚ï≤[38;2;195;90;51;48;2;236;187;145m‚ñÜ[38;2;229;212;177;48;2;204;87;53m‚ñÇ[38;2;207;104;80;48;2;231;217;164m‚ñò[38;2;198;215;87;48;2;231;216;173m‚ñÇ[38;2;166;196;40;48;2;214;178;113m‚ñÉ[38;2;145;160;38;48;2;205;174;51m‚ñÖ[38;2;217;200;157;48;2;176;159;57m‚ñÖ[38;2;184;134;116;48;2;96;70;62m‚ñå[38;2;191;180;157;48;2;96;77;63m‚ñÜ[38;2;194;144;101;48;2;213;187;156m‚ï∂[0m[38;2;208;191;159m‚ñÑ[0m [7m[38;2;157;65;58m‚ññ[0m[38;2;229;181;150;48;2;110;31;35m‚ñÑ[0m[38;2;232;209;181m‚ñÑ[38;2;217;207;197m‚ñÇ[0m [7m[38;2;106;54;26m‚ñá[38;2;182;131;84m‚ñÜ[38;2;184;151;102m‚ñÑ[0m[38;2;87;83;17;48;2;174;148;79m‚ñÑ[38;2;113;68;20;48;2;162;158;63m‚ñÇ[38;2;207;178;147;48;2;143;122;45m‚ñÖ[38;2;231;205;180;48;2;159;108;60m‚ñá[38;2;242;226;202;48;2;229;192;158m‚îÅ[38;2;227;189;151;48;2;218;161;112m‚ñã[38;2;219;148;90;48;2;236;196;136m‚ñÜ[38;2;202;123;75;48;2;244;203;156m‚ñÜ[38;2;193;121;73;48;2;230;179;132m‚îõ[38;2;228;160;114;48;2;236;184;139m‚ñÑ[38;2;220;152;117;48;2;207;158;127m‚ññ[0m                [0m\n");
    std::printf("    [38;2;235;185;148m‚ñù[38;2;247;194;146;48;2;233;165;107m‚ñÇ[38;2;205;116;52;48;2;242;182;112m‚ñù[38;2;244;177;100;48;2;185;84;39m‚ññ[38;2;226;155;131;48;2;161;60;40m‚ñù[38;2;164;63;36;48;2;212;121;98m‚ñÇ[38;2;202;22;28;48;2;220;100;73m‚ññ[38;2;228;179;132;48;2;186;85;69m‚ñÖ[38;2;136;108;91;48;2;187;161;135m‚ñÜ[38;2;210;179;126;48;2;175;102;73m‚ñÖ[38;2;191;160;119;48;2;164;134;59m‚ññ[38;2;109;95;44;48;2;178;205;52m‚ñÑ[38;2;88;78;24;48;2;185;210;69m‚ñÉ[38;2;130;61;9;48;2;178;208;62m‚ñÉ[38;2;114;78;26;48;2;157;194;33m‚ñÉ[38;2;200;194;135;48;2;129;157;26m‚ñÇ[38;2;224;222;185;48;2;109;119;33m‚ñÑ[38;2;156;137;110;48;2;229;213;178m‚ñò[38;2;231;211;174;48;2;217;138;83m‚ñò[38;2;241;169;119;48;2;213;101;53m‚ñÉ[38;2;219;176;144;48;2;208;98;57m‚ñù[38;2;186;188;75;48;2;221;214;162m‚ñÖ[38;2;152;172;39;48;2;205;200;155m‚ñÖ[0m[38;2;135;159;16m‚ñÇ[0m [7m[38;2;190;147;107m‚ññ[0m[38;2;197;83;58;48;2;237;185;150m‚ñó[38;2;218;101;65;48;2;242;207;188m‚ñÖ[38;2;221;92;47;48;2;240;211;199m‚ñÑ[38;2;212;80;37;48;2;194;174;163m‚ñÉ[0m[38;2;221;172;148m‚ñÜ[38;2;221;192;148m‚ñÖ[38;2;227;202;146m‚ñÉ[38;2;137;120;85m‚ñÅ[7m[38;2;124;71;44m‚ñÜ[38;2;209;124;83m‚ñÜ[38;2;207;134;105m‚ñÖ[38;2;173;98;73m‚ñÉ[0m[38;2;173;87;65;48;2;120;43;25m‚ñò[38;2;155;70;33;48;2;225;174;126m‚ñã[38;2;240;203;164;48;2;234;181;132m‚ñã[38;2;230;162;119;48;2;218;152;109m‚ñé[0m[38;2;171;125;101m‚ñã                [0m\n");
    std::printf("     [7m[38;2;232;181;144m‚ññ[0m[38;2;236;170;117;48;2;244;183;127m‚ñÑ[38;2;248;197;122;48;2;243;171;83m‚ñò[38;2;243;175;114;48;2;202;98;54m‚ññ[38;2;146;59;39;48;2;180;86;59m‚ñù[38;2;195;101;71;48;2;185;37;30m‚ññ[38;2;234;182;148;48;2;213;76;48m‚ñù[38;2;229;187;144;48;2;170;138;106m‚ñá[38;2;239;216;172;48;2;215;186;132m‚ñÉ[38;2;229;204;162;48;2;183;136;100m‚ñÜ[38;2;162;125;98;48;2;78;51;40m‚ñÜ[38;2;65;51;50;48;2;43;27;29m‚ñÇ[38;2;109;51;45;48;2;180;53;36m‚ñé[38;2;221;142;98;48;2;205;59;23m‚ñù[38;2;234;203;163;48;2;227;168;114m‚ñö[38;2;213;170;112;48;2;230;205;165m‚ïº[38;2;175;77;40;48;2;208;129;73m‚ññ[38;2;233;136;64;48;2;224;115;23m‚îó[38;2;248;209;167;48;2;242;166;97m‚ñó[38;2;224;117;69;48;2;226;96;45m‚ñè[38;2;215;104;68;48;2;233;210;173m‚ñç[38;2;217;196;135;48;2;121;107;37m‚ñÖ[38;2;212;176;109;48;2;153;152;28m‚ñÇ[38;2;161;174;25;48;2;108;125;10m‚ñé[0m [7m[38;2;197;147;105m‚ññ[0m[38;2;219;120;45;48;2;201;44;11m‚ñÜ[38;2;237;140;50;48;2;209;51;24m‚ñÜ[38;2;237;112;11;48;2;221;82;37m‚ñÑ[38;2;236;124;25;48;2;214;81;33m‚ñÑ[38;2;211;80;25;48;2;206;120;99m‚ñÜ[38;2;201;92;66;48;2;241;213;166m‚ñÖ[38;2;240;219;164;48;2;214;169;94m‚ñö[38;2;238;222;181;48;2;185;184;51m‚ñÉ[0m[38;2;202;157;106m‚ñÜ[38;2;199;129;71m‚ñÑ[38;2;176;71;60m‚ñÉ[38;2;180;106;82m‚ñÇ[0m [7m[38;2;132;79;47m‚ñÜ[38;2;177;121;95m‚ñÖ[0m                 [0m\n");
    std::printf("      [7m[38;2;234;167;120m‚ññ[0m[38;2;238;161;98;48;2;240;176;123m‚ñÇ[38;2;238;175;119;48;2;227;132;75m‚ñÖ[38;2;224;150;102;48;2;191;99;68m‚ñÜ[38;2;230;160;108;48;2;204;118;73m‚ï≤[38;2;227;181;136;48;2;186;45;28m‚ñÑ[38;2;210;140;98;48;2;208;56;31m‚ñÇ[38;2;172;29;24;48;2;239;189;155m‚ñÖ[38;2;150;34;28;48;2;237;168;136m‚ñÖ[38;2;162;66;49;48;2;211;160;118m‚ñã[38;2;235;210;164;48;2;164;112;83m‚ñÑ[38;2;234;204;158;48;2;170;110;81m‚ñÜ[38;2;233;196;141;48;2;184;69;53m‚ñÖ[38;2;225;180;136;48;2;198;38;24m‚ñÑ[38;2;219;118;90;48;2;204;79;53m‚î∏[38;2;195;61;16;48;2;222;110;69m‚ñò[38;2;207;61;38;48;2;237;125;25m‚ñÇ[38;2;233;102;15;48;2;243;148;32m‚ñÖ[38;2;201;75;41;48;2;220;104;57m‚ñÑ[38;2;86;46;45;48;2;198;125;97m‚ñÖ[38;2;111;102;84;48;2;221;205;158m‚ñÜ[38;2;225;199;150;48;2;197;171;126m‚ï≤[38;2;210;189;109;48;2;152;164;34m‚ñã[0m[38;2;142;166;19m‚ñå[0m [7m[38;2;123;67;42m‚ñÑ[0m[38;2;173;77;34;48;2;241;149;85m‚ñã[38;2;240;150;100;48;2;237;135;60m‚ñÉ[38;2;213;79;41;48;2;237;129;30m‚ñÜ[38;2;201;46;22;48;2;210;69;24m‚ññ[38;2;219;101;50;48;2;212;70;31m‚ñù[38;2;191;65;48;48;2;211;98;70m‚ï≤[38;2;216;158;121;48;2;235;202;156m‚ñá[38;2;216;169;127;48;2;207;127;75m‚ñç[38;2;223;154;102;48;2;203;94;38m‚ñÖ[38;2;229;155;104;48;2;201;75;57m‚ñÑ[38;2;182;28;22;48;2;200;60;50m‚î£[38;2;186;83;56;48;2;237;163;115m‚ñÖ[38;2;205;131;89;48;2;150;71;43m‚ñö[38;2;231;158;102;48;2;153;127;98m‚ññ[0m[38;2;222;197;173m‚ñÖ[38;2;210;173;143m‚ñÉ[0m               [0m\n");
    std::printf("       [7m[38;2;207;137;83m‚ññ[0m[38;2;245;195;142;48;2;239;163;105m‚ñù[38;2;248;203;150;48;2;245;181;118m‚ñö[38;2;246;206;156;48;2;185;98;61m‚ñÑ[38;2;247;197;124;48;2;197;115;73m‚ñÉ[38;2;248;191;105;48;2;218;141;79m‚ñÅ[38;2;223;173;123;48;2;160;75;47m‚ñÖ[38;2;221;198;157;48;2;175;131;101m‚ñÜ[38;2;162;129;89;48;2;209;182;142m‚ïπ[38;2;100;75;58;48;2;224;198;142m‚ñÉ[38;2;155;119;74;48;2;223;189;127m‚ññ[38;2;234;209;156;48;2;241;227;191m‚ñã[38;2;234;197;171;48;2;214;103;61m‚ñç[38;2;239;126;28;48;2;211;74;31m‚ñÖ[38;2;230;84;10;48;2;223;84;66m‚ñÜ[38;2;227;80;23;48;2;231;104;77m‚ñÑ[38;2;233;134;76;48;2;221;104;59m‚îÅ[38;2;205;157;134;48;2;195;78;50m‚ñó[38;2;217;200;151;48;2;102;65;52m‚ñÖ[38;2;154;91;74;48;2;210;181;148m‚ñö[38;2;166;47;34;48;2;183;114;89m‚ñá[38;2;224;192;145;48;2;190;152;73m‚ñÇ[38;2;108;100;15;48;2;197;171;88m‚îõ[0m[7m[38;2;171;146;103m‚ñù[0m [7m[38;2;164;119;77m‚ñã[0m[38;2;189;98;65;48;2;231;125;78m‚ñÖ[38;2;199;71;35;48;2;214;85;44m‚ñÇ[38;2;236;134;54;48;2;216;90;23m‚ïÖ[38;2;216;79;7;48;2;199;60;20m‚ññ[38;2;201;73;45;48;2;162;45;34m‚ñä[38;2;146;75;65;48;2;78;50;47m‚ñé[38;2;94;63;54;48;2;56;34;31m‚ñÖ[38;2;95;71;60;48;2;204;134;78m‚ñç[38;2;231;169;133;48;2;218;133;87m‚ï±[38;2;193;72;39;48;2;180;33;23m‚ñö[38;2;233;172;128;48;2;213;132;93m‚îª[38;2;244;192;141;48;2;208;119;69m‚ñÜ[38;2;244;195;142;48;2;241;181;134m‚ñò[38;2;226;164;124;48;2;232;178;135m‚ñÜ[38;2;182;144;120;48;2;230;185;154m‚ñö[0m[38;2;114;96;83m‚ñò              [0m\n");
    std::printf("        [7m[38;2;182;133;101m‚ñÖ[0m[38;2;242;172;117;48;2;199;136;96m‚ñù[38;2;237;165;111;48;2;249;189;139m‚ñÖ[38;2;250;208;160;48;2;244;181;122m‚ï∫[38;2;248;204;151;48;2;241;169;70m‚ñÖ[38;2;199;115;66;48;2;224;170;132m‚îÅ[38;2;233;208;164;48;2;221;184;135m‚ï≤[38;2;237;209;177;48;2;208;179;126m‚ñÑ[38;2;153;122;83;48;2;221;181;138m‚ñù[38;2;118;89;60;48;2;177;137;101m‚îó[38;2;198;160;108;48;2;232;196;160m‚ñò[38;2;196;103;74;48;2;202;74;33m‚ñé[38;2;216;83;23;48;2;237;116;13m‚ñÜ[38;2;184;57;33;48;2;231;111;25m‚ñÉ[38;2;190;65;32;48;2;205;98;54m‚î∂[38;2;157;84;59;48;2;71;40;31m‚ñç[38;2;126;116;101;48;2;53;41;38m‚ñÇ[38;2;102;85;75;48;2;194;162;137m‚ñò[38;2;191;54;34;48;2;215;116;83m‚ñâ[38;2;229;205;154;48;2;159;100;73m‚ñÑ[38;2;130;107;84;48;2;231;206;157m‚ñò[38;2;203;173;125;48;2;229;209;164m‚îé[38;2;150;97;42;48;2;190;150;97m‚î£[0m[38;2;152;130;85m‚ñé[0m [7m[38;2;164;111;67m‚ññ[0m[38;2;197;153;106;48;2;192;79;45m‚ñÖ[38;2;218;176;136;48;2;192;68;30m‚ñÖ[38;2;222;177;146;48;2;197;65;32m‚ñÑ[38;2;203;95;81;48;2;171;55;37m‚îç[38;2;213;142;105;48;2;125;57;38m‚ñÜ[38;2;202;119;82;48;2;122;64;29m‚ñÜ[38;2;163;34;28;48;2;194;113;77m‚ñÖ[38;2;209;133;93;48;2;146;35;27m‚ñÅ[38;2;216;137;86;48;2;177;83;41m‚ñÇ[38;2;159;92;63;48;2;184;114;78m‚îì[38;2;243;183;134;48;2;217;139;88m‚ñù[38;2;229;173;138;48;2;224;158;120m‚ñö[38;2;214;177;155;48;2;179;147;125m‚îó[0m[38;2;129;109;95m‚ñò               [0m\n");
    std::printf("          [7m[38;2;184;128;92m‚ñÑ[0m[38;2;167;120;91;48;2;230;158;112m‚ñÑ[38;2;229;160;110;48;2;246;186;137m‚ñÜ[38;2;242;186;138;48;2;247;213;176m‚ñÖ[38;2;246;213;172;48;2;232;175;133m‚î≥[38;2;243;206;170;48;2;208;131;79m‚ñÑ[38;2;239;204;163;48;2;204;120;63m‚ñÇ[38;2;187;109;53;48;2;217;157;115m‚ñÑ[38;2;147;78;37;48;2;181;137;84m‚ñù[38;2;160;160;58;48;2;174;59;33m‚ñÖ[38;2;206;187;107;48;2;194;61;34m‚ñÜ[38;2;202;191;122;48;2;193;129;94m‚ñÖ[38;2;139;123;70;48;2;195;190;104m‚ñå[38;2;190;194;87;48;2;131;140;34m‚ñå[38;2;60;65;24;48;2;137;140;72m‚ïº[38;2;74;40;41;48;2;150;112;91m‚î≥[38;2;208;123;86;48;2;166;30;21m‚ñù[38;2;210;122;95;48;2;224;186;129m‚ññ[38;2;174;133;77;48;2;226;200;148m‚ñÇ[38;2;216;206;167;48;2;189;159;102m‚ñò[38;2;208;138;87;48;2;215;172;125m‚ñÇ[38;2;213;169;134;48;2;175;121;83m‚îª[0m[38;2;142;104;70m‚ññ[0m [38;2;176;147;91;48;2;83;63;38m‚îé[38;2;162;136;74;48;2;109;77;51m‚ñÉ[38;2;231;183;140;48;2;187;125;77m‚ï∫[38;2;230;192;152;48;2;213;145;98m‚ï∏[38;2;235;179;133;48;2;174;93;55m‚ñÇ[38;2;240;198;155;48;2;210;130;101m‚ñÇ[38;2;250;209;160;48;2;200;118;89m‚ñÇ[38;2;246;191;126;48;2;208;121;65m‚ñÑ[38;2;221;138;64;48;2;243;175;109m‚ñò[38;2;229;163;122;48;2;232;153;83m‚ñÇ[38;2;209;155;126;48;2;198;116;70m‚ñÖ[0m[7m[38;2;169;126;106m‚ñÉ[0m                 [0m\n");
    std::printf("            [7m[38;2;161;116;88m‚ñÖ[38;2;211;149;108m‚ñÉ[0m[38;2;207;147;109;48;2;242;184;136m‚ñá[38;2;223;157;116;48;2;244;186;140m‚ñÖ[38;2;226;150;98;48;2;244;199;153m‚ñÑ[38;2;172;88;46;48;2;222;155;101m‚ñù[38;2;240;190;142;48;2;212;131;87m‚ñÑ[38;2;182;101;47;48;2;225;191;141m‚îÅ[38;2;213;160;111;48;2;158;133;54m‚ñÉ[38;2;157;108;56;48;2;176;191;32m‚ñÜ[38;2;188;138;97;48;2;137;134;36m‚ñÑ[38;2;211;158;88;48;2;63;58;28m‚ñÖ[38;2;218;178;115;48;2;88;77;64m‚ñÉ[38;2;216;165;120;48;2;106;86;68m‚ñÉ[38;2;198;149;105;48;2;189;111;79m‚ñç[38;2;203;129;91;48;2;153;33;28m‚ñÖ[38;2;156;91;44;48;2;175;139;38m‚ñå[38;2;191;147;55;48;2;226;182;138m‚ñç[38;2;247;203;154;48;2;211;138;76m‚ñÉ[38;2;246;215;178;48;2;199;132;92m‚ñÖ[38;2;240;221;200;48;2;209;175;134m‚îÅ[0m[38;2;137;108;79m‚ññ[38;2;44;36;17m‚ñù[38;2;135;95;70;48;2;69;53;43m‚îô[38;2;82;53;42;48;2;153;81;56m‚ñç[38;2;148;67;39;48;2;204;135;97m‚ñÜ[38;2;215;143;78;48;2;238;189;141m‚ñÜ[38;2;235;168;90;48;2;246;201;146m‚ñÜ[38;2;233;163;99;48;2;248;207;155m‚ñÑ[38;2;221;165;126;48;2;232;163;104m‚ñÇ[38;2;207;154;122;48;2;224;153;106m‚ñÉ[0m[7m[38;2;200;146;116m‚ñÉ[0m[38;2;110;86;73m‚ñò                  [0m\n");
    std::printf("               [7m[38;2;180;133;103m‚ñÜ[38;2;199;129;83m‚ñÖ[38;2;203;133;90m‚ñÉ[0m[38;2;166;109;79;48;2;235;160;108m‚ñÜ[38;2;203;132;95;48;2;238;174;126m‚ñÖ[38;2;207;137;96;48;2;249;207;168m‚ñÜ[38;2;210;137;94;48;2;243;195;147m‚ñÖ[38;2;208;134;93;48;2;240;191;150m‚ñÉ[38;2;224;159;114;48;2;241;185;121m‚ñÉ[38;2;246;195;150;48;2;235;181;126m‚ïº[38;2;226;159;115;48;2;242;192;141m‚ñÇ[38;2;245;219;188;48;2;226;166;123m‚îÅ[38;2;219;148;107;48;2;238;195;155m‚ñÉ[38;2;216;150;114;48;2;244;201;153m‚ñÑ[38;2;225;163;119;48;2;248;208;159m‚ñÜ[38;2;221;160;122;48;2;244;194;147m‚ñÜ[38;2;198;151;127;48;2;235;175;135m‚ñÑ[0m[7m[38;2;218;157;118m‚ñÅ[0m[38;2;217;131;74m‚ñò [38;2;52;19;13m‚ñù[38;2;229;179;137;48;2;163;91;55m‚ñó[38;2;247;218;195;48;2;230;190;156m‚îÅ[38;2;240;203;162;48;2;228;173;132m‚ñò[38;2;226;159;101;48;2;220;159;115m‚ïπ[38;2;170;125;98;48;2;223;166;126m‚ñÖ[0m[7m[38;2;197;147;118m‚ñÑ[38;2;95;67;51m‚ñÜ[0m                    [0m\n");
    std::printf("                    [7m[38;2;166;115;86m‚ñá[38;2;179;120;93m‚ñÜ[38;2;177;122;97m‚ñÖ[38;2;193;135;107m‚ñÖ[38;2;205;153;128m‚ñÖ[38;2;189;147;127m‚ñÑ[38;2;204;151;123m‚ñÖ[38;2;194;142;115m‚ñÖ[38;2;182;132;107m‚ñÖ[38;2;207;155;127m‚ñÜ[38;2;199;153;131m‚ñá[0m     [38;2;188;100;58m‚ñù[7m[38;2;207;138;101m‚ñÉ[38;2;195;142;114m‚ñÑ[38;2;155;120;97m‚ñÜ[0m                       [0m\n");
    std::printf("                                                               [0m\n");

    for (auto &kitchen : _kitchens) {
        nbOfAvailablePizzaiolos = kitchen->nbOfAvailablePizzaiolos();
        nbOfAvailableStorage = kitchen->nbOfAvailableStorage();
        ingredients = kitchen->getIngredients();

        std::printf("‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n");
        std::printf("‚îÇ                                   ‚îÇ\n");
        std::printf("‚îÇ            Pizzeria %.3d           ‚îÇ\n", kitchen->id());
        std::printf("‚îÇ                                   ‚îÇ\n");
        std::printf("‚îÇ      Cooking pizzas: %3d/%-3d      ‚îÇ\n", kitchen->pizzaiolos() - nbOfAvailablePizzaiolos, kitchen->pizzaiolos());
        std::printf("‚îÇ     Storaged pizzas: %3d/%-3d      ‚îÇ\n", kitchen->restock() - nbOfAvailableStorage, kitchen->restock());
        std::printf("‚îÇ                                   ‚îÇ\n");
        std::printf("‚îÇ           Ingredients:            ‚îÇ\n");
        std::printf("‚îÇ                                   ‚îÇ\n");
        std::printf("‚îÇ %3d dough         %3d tomato      ‚îÇ\n", ingredients.dough, ingredients.tomato);
        std::printf("‚îÇ %3d gruyere       %3d ham         ‚îÇ\n", ingredients.gruyere, ingredients.ham);
        std::printf("‚îÇ %3d mushrooms     %3d steak       ‚îÇ\n", ingredients.mushrooms, ingredients.steak);
        std::printf("‚îÇ %3d eggplant      %3d goatCheese  ‚îÇ\n", ingredients.eggplant, ingredients.goatCheese);
        std::printf("‚îÇ %3d chiefLove                     ‚îÇ\n", ingredients.chiefLove);
        std::printf("‚îÇ                                   ‚îÇ\n");
        std::printf("‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n");
    }
}

std::shared_ptr<plz::Kitchen> plz::Reception::_addKitchen()
{
    std::shared_ptr<plz::Kitchen> kitchen = std::make_shared<plz::Kitchen>(_pizzaiolos, _restock);

    _kitchens.push_back(kitchen);
    std::shared_ptr<plz::Fork> fork = std::make_shared<plz::Fork>();
    kitchen->setFork(fork);

    if (fork->isChild()) {
        kitchen->setPid(fork->getParentPid());
        kitchen->initPipe(plz::Kitchen::SIDE::KITCHEN);
        kitchen->run();
        std::exit(0);
    }
    kitchen->setPid(fork->getChildPid());
    kitchen->initPipe(plz::Kitchen::SIDE::RECEPTION);
    kitchen->waitFork();
    return kitchen;
}
